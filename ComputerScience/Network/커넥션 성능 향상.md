# 순차적 트랜잭션의 문제 - 지연

커넥션 관리가 제대로 이루어지지 않으면 TCP의 성능이 매우 안좋아질 수 있다.  
이미지를 3개 보여줘야하는 페이지가 있다. 그러면 트랜잭션은 총 4번이 이루어진다.  
첫번째는 html을 받기 위함이고, 나머지는 이미지를 받기 위함이다.  
각 트랜잭션이 새로운 커넥션을 필요로 한다면, 커넥션을 맺는데 발생하는 지연과 함께 느린 시작 지연이 발생할 것이다.  
이렇게 이미지를 받아오는데, 속도가 느리다면 사용자 경험이 좋지 않을 것이다.  
이를 해결하기 위한 기술들이 있다.

1. 병렬 커넥션
2. 지속커넥션
3. 파이프라인 커넥션
4. 다중 커넥션

<br>

## 병렬 커넥션

HTTP는 클라이언트가 여러 개의 커넥션을 맺음으로써 여러 개의 HTTP 트랜잭션을 병렬로 처리할 수 있게 해준다.  
각 커넥션의 지연 시간을 겹치게 한다면 총 지연시간을 줄일 수 있을 것이다.  
클라이언트의 인터넷 대역폭을 한 개의 커넥션이 다 써버리는 것이 아니라면 나머지 객체를 내려받는데에 남은 대역폭을 사용할 수 있을 것이다.

☀︎ 대역폭 : 일정한 시간 내에 데이터 연결을 통과할 수 있는 정보량의 척도다.

### 항상 병렬커넥션이 더 빠른 것은 아니다.

대역폭이 좁은 경우에는 병렬 커넥션이 이점이 되지 못한다.  
대부분의 시간을 데이터를 전송하는데에만 사용하게 될 것이다.  
여러 개의 객체를 병렬로 내려받는 경우, 이 제한된 대역폭 내에서 각 객체가 전송받는 것은 느리기 때문에  
성능상의 장점은 거의 없어진다.

이것의 문제점은 클라이언트가 100개의 커넥션을 맺고,
가상 유저 100명이 있다면, 서버 입장에서는 10000개의 커넥션을 맺어야하는 것이다.  
이런 상황은 성능을 크게 떨어뜨릴 수 있다.

### 병렬 커넥션이 더 빠르게 '느껴질 수'도 있다.

화면에 여러 개의 객체가 동시에 보이면서 내려받고 있기 때문에 더 빠르게 보일 수도 있다.

[출처 : HTTP 완벽가이드]
