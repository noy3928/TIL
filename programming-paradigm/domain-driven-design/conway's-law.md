> https://khalilstemmler.com/wiki/conways-law/

> 어떤 조직이 시스템(여기서는 정보 시스템뿐만 아니라 더 광범위한 의미로 정의)을 설계하더라도, 그 설계 구조는 필연적으로 해당 조직의 의사소통 구조를 복사한 형태가 될 것이다.

멜빈 콘웨이는 1967년에 이 인용문을 남겼습니다.

간단히 말하자면, 콘웨이는 이렇게 말하고 있습니다:

> 소프트웨어를 만들 때, 그것이 어떤 그룹/팀/역할을 대상으로 하는지 알아야 하며, 실제로 그 그룹들이 소통하는 방식과 유사하게 애플리케이션을 개별적인 부분으로 나누어야 한다는 것입니다.

이는 단일 책임 원칙의 핵심과도 일맥상통합니다.

다음은 이 내용이 이 블로그의 많은 주제와 매우 관련성이 높은 이유들입니다.

## 도메인 지식과 관련하여

**도메인 지식과 단일 책임 원칙(SRP)**에 대한 이 글에서, 도메인에 대한 지식 없이는 클래스와 모듈이 얼마나 많은 책임을 가져야 하는지 결정하기 매우 어렵다는 점에 동의했습니다.

콘웨이가 1967년에 말한 내용을 바탕으로, 만약 우리가 실제로 사용될 시스템을 개발 중이라면(예:
채용 플랫폼의 학생, 채용자, 면접관
일반 엔터프라이즈 애플리케이션의 회계, HR, 직원들
같은 사용자 그룹) 어느 요구사항이 어느 그룹에 대응되는지 이해하지 못하면 클래스나 모듈이 과도한 책임(여러 그룹에 걸치는 책임)을 가지는 시점을 식별하기 어렵습니다.

## 서브도메인과 경계와 관련하여

대규모 애플리케이션에서 전체 문제 도메인은 회사의 전체 운영을 의미합니다.

만약 우리가 내일 월마트(Wal-Mart)의 온라인 시스템을 만들게 된다면, 그 전체 문제 도메인은 엄청나게 클 것입니다.

소프트웨어 개발에서 우리가 처음 배우는 몇 가지 중 하나는 분해(Decomposition), 즉 시스템을 더 작은 모듈로 나누는 것입니다. 따라서 전체 도메인(월마트라는 회사)을 서브도메인으로 나눕니다.

그렇다면 서브도메인을 어떻게 식별할까요?

콘웨이의 법칙입니다.

우리는 조직 구조에 따라 서브도메인을 나눕니다. 따라서 다음과 같은 서브도메인이 필요합니다:

- 재고 관리 서브도메인: 현장에서 사람들이 현재 보유하고 있는 모든 것을 추적할 수 있도록
- 근무 시간 추적 서브도메인: 직원들의 시간 관리용
- 회계 서브도메인: 회계 담당자를 위한 시스템
- HR/채용 서브도메인: HR과 채용 담당자를 위한 시스템
- 전자상거래 서브도메인: 온라인으로 상품을 판매하기 위한 시스템

## 향후 유스케이스 업데이트와 관련하여

"Head First Design Patterns"에서 제가 가장 좋아하는 인용문 중 하나는 다음과 같습니다:

> "소프트웨어 개발에서 변화는 유일한 상수이다."

그렇다면 변화는 어디에서 시작될까요?

코드 내부에서 시작될까요? 그렇지 않습니다. 메모리 누수와 같은 문제를 발견하는 경우를 제외하면 말이죠.

코드를 어떻게 조직했는지에서 비롯될까요? 그럴 수도 있습니다. 코드를 잘 조직하지 않아 갑자기 어디에서 무엇을 수정해야 하는지 알기 어려워지는 경우가 있다면요.

모든 변화(기능 요청)는 한 곳에서 시작됩니다: 소프트웨어를 사용하는 사용자입니다.

만약 우리가 서브도메인 => 유스케이스 구조로 코드를 조직했다면, 코드 변경 위치를 찾는 작업이 사실상 사라집니다.

예를 들어, 다음과 같은 구조를 가질 수 있습니다:

```plaintext
billing/
└ useCases/
└ getCustomerById/
getAllCustomers/
chargeCustomer/
getCharges/
refundCustomer/

trading/
└ useCases/
└ approveOffer/
getAllOffers/
makeOffer/
rejectOffer/

catalog/
└ useCases/
└ addVinyl/
getVinylById/
getAllVinyl/
updateVinyl/
removeVinyl/
search/

users/
└ useCases/
└ createAccount/
deleteAccount/
login/
logout/
```

만약 서브도메인 간의 논리적 경계가 건강하고, 서브도메인 간에 공통으로 사용하는 클래스의 의존성을 신중하게 관리한다면, 한 서브도메인의 유스케이스를 변경하는 작업이 다른 서브도메인의 유스케이스에 영향을 주지 않아야 합니다.

<br/>

---

- 콘웨이의 법칙은 SRP와 관련된 법칙이다. 일단 개별적인 책임을 가지는 객체들로 나누자는 것이다. 그런데 어떻게 그것을 나눌 것이냐 하는 것이 이 법칙의 차별성이다. 어떻게 나눌 것이냐면, 실제 우리가 살아가는 세상인 비지니스 세상에서 사람들이 어떻게 소통하는지에 따라 나누는 것이다.
