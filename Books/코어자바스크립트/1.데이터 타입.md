
## 01. 데이터 타입의 종류 

- 자바스크립트의 타입에는 2가지가 있다. 
	- 기본형
		- 숫자, 문자열, 불리언, null, undefined, 심볼
	- 참조형
		- 객체, 배열, 함수, 날짜, 정규식, Map, Set, WeakMap, WeakSet 
- 어떤 기준으로 기본형과 참조형을 구분하는 것일까? 
	- 기본형은 값이 담긴 주솟값을 바로 복제하는 반면 
	- 참조형은 값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제한다. 

- 기본형은 불변성을 가지고 있다. 
	- 이 불변성에 대한 개념을 제대로 이해하기 위해서는 메모리와 데이터에 대한 지식이 필요하다. 


## 02 데이터 타입에 관한 배경지식 


### 1.2.1 메모리와 데이터 

- 0 또는 1만 표현할 수 있는 하나의 메모리 조각을 비트라고 한다. 
	- 각 비트는 고유한 식별자를 통해서 위치를 확인할 수 있다. 
	- 하지만, 비트 단위로 위치를 확인하는 것은 비효율적이다. 
	- 몇개씩 묶어서 하나의 단위로 표현할 수는 없을까? 
- 하지만 비트를 한 단위로 묶으면 검색 시간은 줄일 수 있고, 표현할 수 있는 데이터의 갯수도 늘어나겠지만 동시에 낭비되는 비트가 생기기도 한다. 
	- 질문 : 왜 낭비되는 비트가 생기는 것인가? 
	- 아무튼 빈 공간을 낭비하기 보단, 표현 가능한 갯수에 제약이 따르더라도 문제가 되지 않을 적정한 공간을 묶는 편이 낫다. 이런 고민의 결과로 바이트라는 단위가 생겼다. 
		- 1바이트는 8개의 비트로 구성되어있다. 
- 각 비트는 고유한 식별자를 가지고 있다고 했다. 바이트 역시 시작하는 비트의 식별자로 위치를 파악할 수 있다. 
	- 모든 데이터는 바이트 단위의 식별자, 더 정확하게는 메모리 주솟값을 통해 서로 구분하고 연결지을 수 있다. 
		- 내 생각 : 식별자에는 메모리 주솟값에 대한 정보가 담겨있다. 그렇기 때문에 메모리 주솟값을 통해서 서로 구분하고 연결지을 수 있다고 말하는 듯하다. 

### 1.2.2 식별자와 변수 

- 변수와 식별자는 구분되는 개념이다. 
	- 변수는 '변할 수 있는 무언가'를 말한다. 
		- 여기서 무언가는 데이터를 말한다. 
	- 식별자는 어떤 데이터를 식별하는 데 사용하는 이름, 즉 변수명이다. 


## 03 변수 선언과 데이터 할당


### 1.3.1 변수 선언 

```javascript
var a
```

- 변할 수 있는 데이터를 만든다. 이 데이터의 식별자는 a로 한다. 
	- 라는 의미가 된다. 
	- 선언할 때는 undefined로 선언한 뒤, 나중에 다른 값으로 바꾸면 된다. 
- 변수란 변경 가능한 데이터가 담길 수 있는 공간 또는 그릇이라고 생각하면 된다. 
- 변수의 선언과정 
	1. 컴퓨터는 메모리에서 비어있는 공간 하나를 확보한다. 
	2. 1003번 메모리를 확보했다.
	3. 이 공간의 이름을 a라고 지정한다. 
	4. 이제 사용자가 a에 접근하려고 하면 컴퓨터는 메모리에서 a라는 이름을 가진 주소를 검색해 해당 공간에 담긴 데이터를 반환할 것이다. 


### 1.3.2 데이터 할당 

```javascript
var a;
a = 'abc'

var a = 'abc'
```

- 위의 코드도 바로 위에서 설명한 과정과 똑같이 데이터가 컴퓨터의 메모리상에 저장된다. 
- 그런데 실제로 해당 위치에 abc를 직접 저장하지는 않는다. 
	- 데이터를 저장하기 위한 별도의 메모리 공간을 확보해서 abc를 저장하고, 그 주소를 변수 영역에 저장하는 식으로 이루어진다. 
- 위 순서를 정리하면 다음과 같다. 
	1. 변수 영역에서 빈 공간 @1003을 확보한다. 
	2. 확보한 공간의 식별자를 a로 정한다. 
	3. 데이터 영역의 빈 공간 @5004에 문자열 abc를 저장한다. 
	4. 변수 영역에서 a라는 식별자를 검색한다. 
	5. 앞서 저장한 문자열의 주소 @5004를 @1003의 공간에 대입한다. 

- 변수영역에 직접 값을 담지않고, 한 단계를 거쳐서 메모리 상에 데이터를 저장한 뒤에 그 주솟값을 저장하는 이유는 무엇인가? 
	- 데이터 변환을 자유롭게 할 수 있게 함과 동시에 메모리를 더욱 효율적으로 관리하기 위한 고민의 결과이다. 
		- 미리 확보한 공간에서만 데이터를 변환할 수 있다면, 변환한 데이터를 다시 저장하기 위해서는 '확보된 공간을 변환된 데이터 크기에 맞게 늘리는 작업'이 선행되어야 할 것이다. 
		- 중간에 있는 데이터를 이렇게 늘려야한다면 훨씬 더 골치아파진다. 
		- 결국 효율적인 방법은 변수와 데이터를 별도의 공간에 나누어 저장하는 것이다. 
- js에서는 데이터를 저장할 때, 특정 값에 대해서 변경이 생기면 그 주솟값에 저장된 데이터를 변경시키는 것이 아니라, 새로운 주소에 새로운 값을 넣는다. 
	- 'abc'에서 'abcd'로 바꿨다. 
		- @5003에 'abc'가 저장되어 있었는데, @5004에 'abcd'를 저장하게 되었다. 
		- 이렇듯 @5003에 저장되어있던 데이터를 변경시키는 것이 아니라, 새로운 주소에 데이터를 저장하는 방식으로 이루어진다. 
- 변수영역과 데이터 영역을 분리하면 중복된 데이터에 대한 처리 효율이 높아진다. 


## 04 기본형 데이터와 참조형 데이터 


### 1.4.1 불변값 

- 변수와 상수의 차이 : 
	- 변경 가능성 
	- 변수와 상수를 구분 짓는 변경 가능성은 변수 영역 메모리이다. 
	- 한 번 데이터 할당이 이뤄진 변수 공간에 다른 데이터를 재할당할 수 있는지 여부가 관건이다. 
	- 반면 불변성 여부를 구분할 때의 변경 가능성의 대상은 데이터 영역 메모리다. 
		- 데이터 영역에 있는 데이터는 절대로 변경되지 않는다. 
		- 만약 기존 값을 변경시키거나, 새로운 값이 필요로 한다면, 그때마다 무조건 새로운 주소에 데이터를 저장한다. 
		- 그런 의미에서 데이터 영역에 저장된 데이터 값이 변경되지 않는다는 의미에서 불변하다고 말할 수 있다. 


### 1.4.2 가변값 

```javascript
var obj1 = {
	a : 1,
	b : 'bbb'
}
```

- 위 값을 저장하는 과정 
	1. 변수 영역의 빈 공간 @1002를 확보하고, 그 주소의 이름을 obj1로 지정한다. 
	2. 임의의 데이터 저장 공간 @5001에 데이터를 저장하려고 보니 여러 개의 프로퍼티로 이루어진 데이터 그룹이다. 그래서 이 내부의 프로퍼티를 저장하기 위해 별도의 변수 영역을 마련하고, 그 영역의 주소를 @5001에 저장한다. 
	3. @7103 및 @7104에 각각 a와 b라는 프로퍼티 이름을 지정한다. 
	4. 데이터 영역에서 숫자 1을 검색한다. 검색 결과가 없으므로 임의로 @5003에 저장하고, 이 주소를 @7103에 저장한다. 문자열 'bbb' 역시 임의로 @5004에 저장하고, 이 주소를 @7104에 저장한다.
- 참조형 데이터를 불변하지 않다고 말하는 이유 
	- 변수영역에 다른 데이터값이 들어올 수 있기 때문에 그렇다. 
	- 만약 obj1이라는 식별자가 저장된 위치가 @1002이라고 한다면, 이 식별자가 가지고 있는 데이터 영역의 값은 @5001이다. 그런데 이 데이터 영역에서의 값들은 또 다시 변수와 데이터 영역을 가지고 있다. 그래서 이 값 내부에서의 값이 변경된다고 할 지라도, @1002에 저장되어 있던 @5001이라는 주솟값이 변경되지는 않지만, @5001내부에서의 값이 변경되었으므로 참조형을 가변적이라고 말하는 것이다. 
- 참조카운트란 
	- 어떤 데이터에 대해 자신의 주소를 참조하는 변수의 갯수 


### 1.4.3 변수 복사 비교 

- 변수를 복사할 때의 변화 
	- 기본형에서는 복사를 했을 때, 해당 값이 복사된다. 
	- 참조형에서는 복사를 했을 때, 다른 값들을 가리키고 있는 주솟값이 복사된다.
	- 차이점 : 
		- 기본형은 주솟값을 복사하는 과정이 한 번만 이루어지고, 참조형은 한 단계를 거치게 된다는 차이가 있을 뿐이다. 
		- 자바스크립트의 모든 데이터 타입은 참조형이다. 기본형과 참조형의 차이는 '깊이'의 차이일 뿐이다. 


## 05 불변 객체 

### 1.5.1 불변 객체를 만드는 간단한 방법 

- 내부 프로퍼티를 변경할 일이 있을 때마다 새로운 객체를 만들어 재할당한다면, 불변성을 확보할 수 있을 것이다. 
- 불변객체는 언제필요할까? 
	- 값을 전달받은 객체에 변경을 가하더라도 원본 객체는 변하지 않아야하는 경우가 종종있다. 
	- 이럴 때 불변 객체가 필요하다. 


### 1.5.2 얕은 복사와 깊은 복사 

- 얕은 복사는 바로 아래 단계의 값만 복사하는 방법이고, 깊은 복사는 내부의 모든 값들을 하나하나 찾아서 전부 복사하는 방법이다. 
- 깊은 복사를 하는 방법 : 
	- 객체의 프로퍼티 중에거 그 값이 기본형 데이터일 경우에는 그대로 복사하면 되지만 참조형 데이터는 다시 그 내부의 프로퍼티들을 복사해야 한다. 이 과정을 참조형 데이터가 있을 때마다 재귀적으로 수행해야만 비로소 깊은 복사가 되는 것이다. 


## 06 undefined와 null 

- 자바스크립트에서의 '없음' 
	- null
	- undefined 


- undefined가 반환되는 경우 
	- js엔진은 사용자가 응당 어떤 값을 지정할 것이라고 예상되는 상황임에도 실제로는 그렇게 하지 않았을 때 undefined를 반환한다. 
		- 값을 대입하지 않은 변수, 즉 데이터 영역의 메모리 주소를 지정하지 않은 식별자에 접근할 때 
		- 객체 내부의 존재하지 않는 프로퍼티에 접근하려고 할 때 
		- return 문이 없거나 호출되지 않은 함수의 실행 결과 
- undefined의 2가지 의미 
	- undefined를 직접 할당해주었을 때는 하나의 값으로 동작하게 된다. (값으로써 어딘가에 할당된 undefined는 실존하는 데이터)
	- 한편 사용자가 아무것도 하지 않은 채로 접근했을 때 자바스크립트 엔진이 하는 수 없이 반환해주는 undefined는 해당 프로퍼티 내지 배열의 키값 자체가 존재하지 않음을 의미한다. (자바스크립트 엔진이 반환해주는 undefined는 문자 그대로 값이 없음을 나타낸다.)
- var, let, const와 undefined 
	- var는 LE가 활성화될 때 생성되면서 동시에 undefined로 초기화된다. 
	- let,const는 undefined를 할당하지 않은 채로 초기화를 마치며, 이후 특정 값을 할당하기 전까지는 해당 변수에 접근할 수 없다. 
- null의 사용용도 
	- 비어있음을 명시적으로 나타내고 싶을 때는 undefined가 아닌 null을 쓰면 된다. 









