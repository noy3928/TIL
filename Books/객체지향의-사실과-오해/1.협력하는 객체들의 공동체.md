# 01.협력하는 객체들의 공동체 

> 시너지를 생각하라. 전체는 부분의 합보다 크다. - 스티븐 코비 

- 객체지향은 실세계의 모방이라는 개념에 대하여 : 
	- 호 : 객체지향의 기반을 이루는 철학적인 개념을 설명하는 데는 적합하다. 
	- 불 : 유연하고 실용적인 관점에서 객체지향을 분석, 설계를 설명하기에는 적합하지 않다. 
		- 직접적으로 대응되는 실세계의 사물을 발견할 확률은 높지 않다. 

- 객체지향의 목표 :
	- 실세계를 모방하는 것이 아니다. 오히려 새로운 세계를 창조하는 것이다. 
	- 소프트웨어 개발자의 역할은 단순히 실세계를 소프트웨어 안으로 옮겨 담는 것이 아니라 <u>고객과 사용자를 만족시킬 수 있는 신세계를 창조하는 것</u>이다. 

- 사람들이 실세계 모방이라는 개념을 반복해서 가져오는 이유 : 
	- 실세계에 대한 비유가 객체지향의 다양한 측면을 이해하고 학습하는 데 매우 효과적이기 때문 


## 협력하는 사람들 


### 커피 공화국의 아침 

- 카페에서 커피를 주문하고, 커피를 받아 나오는 과정에서 살펴보는 객체지향의 개념 
	- 역할 : 커피를 주문하는 손님, 주문을 받는 캐시어, 커피를 제조하는 바리스타 
	- 책임 : 손님은 커피를 주문할 책임, 캐시어는 주문을 받는 책임, 바리스타는 주문된 커피를 제조하는 책임 
	- 협력 : 모든 객체가 맡은 바 역할과 책임을 다하고 있는 것이다.


### 요청과 응답으로 구성된 협력 


- 요청 : 스스로 해결하지 못하는 문제를 만나면 전문가에게 요청한다. 
	- 그런데, 요청은 또 다른 사람에 대한 요청을 유발하는 것이 일반적이다. 
	- 손님 -> 캐시어 -> 바리스타 

- 응답 : 요청을 받은 사람은 주어진 책임을 다하면서 필요한 지식이나 서비스를 제공한다. 
	- 이 또한 연쇄적으로 전달된다. 
		- 바리스타 -> 캐시어 -> 손님 

- 협력 : 이처럼 요청과 응답을 통해 다른 사람과 협력할 수 있는 능력은 인간으로 하여금 거대하고 복잡한 문제를 해결할 수 있는 공동체를 형성할 수 있게 만든다. 
	- 협력이 성공하기 위해선, 각자가 맡은 바 요청을 성실히 이행해야 한다. 


### 역할과 책임 

- 역할 : 사람들은 다른 사람과 협력하는 과정 속에서 역할을 부여받는다. 
	- 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 책임이나 임무를 의미한다. 
	- 역할은 책임이라는 개념을 내포하고 있다. 
		- ex) 선생님이라는 역할은 학생을 가르칠 책임이 있음을 암시한다. 프로그래머라는 역할은 훌륭한 프로그램을 개발할 책임이 있다. 
	- 역할과 책임은 협력이 원활하게 진행되는 데 필요한 핵심적인 구성 요소다.

- 역할과 책임에 대한 중요한 개념들 : 
	- 여러 사람이 동일한 역할을 수행할 수 있다 : 캐시어 역할을 맡는 사람은 언제든지 그만두고, 다른 사람이 그 자치를 채울 수 있다. 
	- 역할은 대체 가능성을 의미한다 : 요청자 입장에선 누가 역할을 수행해도 문제가 되지 않는다.
	- 책임을 수행하는 방법은 자율적으로 선택할 수 있다 : 커피를 만들기만 한다면, 바리스타는 자신만의 방법으로 커피를 제조할 수 있다. 이를 다형성이라고 한다. 
	- 한 사람이 동시에 여러 역할을 수행할 수 있다 : 한 사람이 동시에 캐시어도 하고 바리스타도 할 수 있다. 



## 역할, 책임, 협력 


### 기능을 구현하기 위해 협력하는 객체들

- 실세계의 모방을 사용하는 이유 : 객체지향 문백으로 옮겨올 수 있다. 
	- 사람 -> 객체 
	- 에이전트의 요청 -> 메시지 
	- 요청을 처리하는 방법 -> 메서드 


### 역할과 책임을 수행하며 협력하는 객체들 

- 협력의 핵심 : 
	- 특정한 책임을 수행하는 역할들 간의 연쇄적인 요청과 응답을 통해 달성한다는 것이다. 
	- 일상 생활에서 목표는 사람들의 협력을 통해 달성된다. 그리고 목표는 더 작은 책임으로 분할되고 분할된 책임을 각각의 전문가가 가져간다. 
- "어떤 객체도 섬이 아니다"(켄트 백)
	- 객체 공동체 안에 살고 있는 성실한 객체 시민은 자신에게 주어진 역할과 책임을 다하는 동시에 시스템의 더 큰 목적을 이루기 위해 다른 객체와도 적극적으로 협력한다. 
- 객체지향 설계의 예술 : 
	- 적절한 객체에게 적절한 책임을 할당하는 것으로부터 시작 
	- 책임은 객체지향 설계의 품질을 결정하는 가장 중요한 요소다. 책임이 불분명한 객체는 애플리케이션의 미래 역시 불분명하게 만든다. 

- 객체의 역할은 사람의 역할과 유사하게 다음과 같은 특징을 가진다 : 
	- 여러 객체가 동일한 역할을 수행할 수 있다. 
	- 역할은 대체 가능성을 의미한다. 
	- 각 객체는 책임을 수행하는 방법은 자율적으로 선택할 수 있다. 
	- 하나의 객체가 동시에 여러 역할을 수행할 수 있다. 

- 역할 : 
	- 역할은 유연하고 재사용 가능한 협력 관계를 구축하는 데 중요한 설계 요소이다. 


## 협력 속에 사는 객체 

- 객체 : 
	- 실제로 협력에 참여하는 주체는 객체이다. 
	- 객체지향의 세계에선 객체가 없으면 아무런 의미가 없다. 
	- 패러다임의 중심에는 객체가 있다. 

- 객체의 품질 : 
	- 1) 객체는 충분히 협력적이어야 한다. 
		- 객체는 다른 객체의 요청에 충실히 귀 기울이고 다른 객체에게 적극적으로 도움을 요청할 정도로 열린 마음을 지녀야 한다. 
		- 전능한 객체는 내부의 복잡도에 의해 자멸하고 말 것이다. 
	- 2) 객체는 충분히 자율적이어야 한다. 
		- 자율적이라는 단어의 뜻은 자기 스스로의 원칙에 따라 어떤 일을 하거나 자기 스스로를 통제하여 절제하는 것을 의미한다. 
		- 어떤 사물이 자신의 행동을 스스로 결정하고 책임진다면 우리는 그 사물을 자율적인 존재라고 말한다. 


### 상태와 행동을 함께 지닌 자율적인 객체

- 객체 : 
	- 상태와 행동을 함께 지닌 실체 
	- 이 말은 객체가 협력에 참여하기 위해 어떤 행동을 해야 한다면 그 행동을 하는 데 필요한 상태도 함께 지니고 있어야 한다는 것을 의미한다. 
	- 객체가 어떤 행동을 하기 위해 필요한 상태를 알지 못한다는 것 역시 말이 되지 않는다. 
	- 객체가 스스로 결정하는 자율적인 존재로 남기 위해서는 필요한 행동과 상태를 함께 지니고 있어야 한다. 
- 객체의 자율성 : 
	- 객체의 내부와 외부를 명확하게 구분하는 것으로부터 나온다. 
	- 사적인 부분은 스스로 관리하고 외부에서 일체 간섭할 수 없도록 차단해야 한다. (캡슐화)
	- 외부에서는 접근이 허락된 수단을 통해서만 객체와 소통해야 한다. (인터페이스)
	- 객체의 관점에서 자율성이란, 자신의 상태를 직접 관리하고 상태를 기반으로 스스로 판단하고 행동할 수 있음을 의미한다. 

> 따라서 객체는 상태와 행위를 하나의 단위로 묶는 자율적인 존재이다. 


- 전통적인 개발과의 차이점 : 
	- 전통 : 데이터와 프로세스를 엄격하게 구분한다. 
	- 객체지향 : 데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶어 놓는다. 


### 협력과 메시지 

- 메시지 : 
	- 객체지향의 세계에서 존재하는 하나의 의사소통 수단. 
	- 한 객체가 다른 객체에게 요청하는 것을 메시지를 전송한다고 말한다. (송신자)
	- 다른 객체로 부터 요청을 받는 것을 메시지를 수신한다고 한다. (수신자)


### 메서드와 자율성 

- 메서드 : 
	- 객체가 수신된 메시지를 처리하는 방법 
	- 어떤 객체에게 메시지를 전송하면 결과적으로 메시지에 대응되는 특정 메서드가 실행된다. 
- 메시지와 메서드의 분리 : 
	- 객체의 협력에 참여하는 객체들 간의 자율성을 증진시킨다. 
	- 커피를 만들어달라고 요청을 하지만(메시지), 바리스타가 어떻게 만들지(메서드)는 신경쓰지 않는다. 
- 캡슐화 : 
	- 메시지와 메서드를 구분하는 것은 기본적으로 캡슐화라는 개념과도 깊은 연관이 있다. 


## 객체지향의 본질 : 

- 일반적으로 사람들이 중요하다고 생각하는 객체지향의 개념 
	- 객체지향이란 시스템을 상호작용하는 자율적인 객체들의 공동체로 바라보고 객체를 이용해 시스템을 분할하는 방법이다. 
	- 자율적인 객체란 상태와 행위를 함께 지니며 스스로가 자기 자신을 책임지는 객체를 의미한다. 
	- 객체는 시스템의 행위를 구현하기 위해 다른 객체와 협력한다. 각 객체는 협력 내에서 정해진 역할을 수행하며 역할은 관련된 책임의 집합이다. 
	- 객체는 다른 객체와 협력하기 위해 메시지를 전송하고, 메시지를 수신한 객체는 메시지를 처리하는 데 적합한 메서드를 자율적으로 선택한다. 

### 객체를 지향하라 

- 사람들의 오해가 쌓이고 쌓여 객체 지향이 아닌 클래스 지향이 되어버렸다. 
- 클래스 관점에서 메시지를 주고받는 객체의 관점으로 사고의 중심을 전환하는 것이 중요하다. 
- 객체지향의 핵심 : 
	- 클래스는 핵심이 아니다. 
	- 적절한 책임을 수행하는 역할 간의 유연하고 견고한 협력 관계를 구축하는 것이다. 






