
> 유일하게 변하지 않는 것은 모든 것이 변한다는 사실뿐이다 - 헤라클레이토스 


기능에만 의존한 방법론은 현재의 요구사항은 만족시킬 수 있지만, 요구사항이 변경되면 한계점을 맞이한다. 하지만 구조에 의존한 방법론은 범용적이고, 안정적이다. 때문에 기능을 구조 종속시키는 방법으로 설계를 할 수 있어야 한다. 이번 장에서는 어떻게하면 기능을 구조에 종속시키는 방법으로 설계를 할 수 있을지에 대해서 알아볼 것이다. 


## 기능 설계 대 구조 설계 

- 요구사항은 끊임없이 변경된다 : 
	- 개발자의 삶이 단조롭지 않은 이유는, 요구사항이 끊임없이 변경되기 때문이다. 요구사항이 변경되는 것은 너무 당연한 기본값이기 때문에 우리가 주목해야 하는 것은, 어떻게 변경사항에 잘 대처할 것이냐 하는 것이다. 우리는 안정적인 구조를 제공하는 능력을 갖추어야 한다. 
- 미래의 변경을 예측할 수 없다. 우리는 대비할 뿐이다 : 
	- 예측하는 것은 어렵다. 하지만 대비는 가능하다. 어떻게 대비하는가? 변경을 수용할 수 있는 선택의 여지를 설계에 마련해 놓는 것이다. 좋은 설계는 나중에라도 변경할 수 있는 여지를 남겨놓는 설계다. 설계를 하는 목적은 나중에 설계하는 것을 허용하는 것이며, 설계의 일차적인 목표는 변경에 소요되는 비용을 낮추는 것이다. 
- 객체지향 접근 방법의 장점 : 
	- 객체지향 접근방법은 자주 변경되지 않는 안정적인 객체구조를 바탕으로 시스템 기능을 객체 간의 책임으로 분배한다. 객체지향은 객체의 구조에 집중하고 기능이 객체의 구조를 따르게 만든다. 



## 두 가지 재료 : 기능과 구조 

- 두 가지 재료는 기능과 구조이다. 
	- 기능 : 사용자가 자신의 목표를 달성하기 위해 사용할 수 있는 시스템의 서비스다
	- 구조 : 시스템의 기능을 구현하기 위한 기반으로, 기능 변경을 수용할 수 있도록 안정적이어야 한다. 
- 두 가지 기법 : 이 두 가지 재료를 얻기 위한 기법들이 있다. 구조를 얻기 위한 방법은 도메인 모델을 구축하는 것이고, 기능을 얻기 위한 방법으로는 유스케이스 모델링이라고 한다. 


## 안정적인 재료 : 구조 


- 도메인 모델 : 
	- 도메인 : 사용자가 프로그램을 사용하는 대상 분야 
	- 모델 : 대상을 단순화해서 표현한 것. 모델을 사용하면 현재의 문제와 관련된 측면은 추상화하고 그 밖의 관련 없는 세부 사항에 대해서는 무시할 수 있다. 
	- 도메인 모델 : 사용자가 프로그램을 사용하는 대상 영역에 대한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태다. 
- 도널드 노먼의 "훌륭한 디자인" : 
	- 훌륭한 디자인이란 사용자가 예상하는 방식에 따라 정확하게 반응하는 제품을 만드는 것이다. 
		- 결국 제품은 사용자가 잘 이용할 수 있도록 만드는 것이 목적이다. 사용자의 문제를 해결하는데에 도움이 되도록 하는 것이 바로 제품이다. 따라서 사용자가 예상하는 방식대로 프로그램이 움직일 수 있어야 한다. 
		- 하지만 제품을 설계하는 설계자에게는 제품에 대한 설계자의 모델이 있다. 이것이 항상 사용자가 가지고 있는 모델과 비슷하다면 문제가 되지 않겠지만, 사실상 이것이 다르다는 것이 문제가 된다. 때문에 이 설계자의 모델과 사용자의 모델 간의 간격을 좁히는 것이 중요한 문제로 대두된다. 
		- 여기서도 더 중요한 것은 사용자의 모델이다. 때문에 설계자의 모델은 사용자의 모델과 더욱 가까워져야한다. 
	- 도메인 모델은 사용자 모델, 설계자 모델, 시스템 이미지 이 3가지 개념을 모두 포괄한 개념이다. 
		- 이것은 사용자들이 도메인을 바라보는 관점이며, 설계자가
		- 
		- 
		- 시스템의 구조를 바라보는 관점인 동시에 소프트웨어 안에 구현된 코드의 모습 그 자체이다. 
- 객체지향 접근법이 도메인 모델을 구축하는데에 도움이 되는 이유는 무엇인가? 
	- 우선 도메인 모델을 구축하는 것이 중요한 이유는 사용자 모델을 소프트웨어에 그대로 반영하는 것이 중요하기 때문이다. 
		- 그러니까 도메인 모델을 구축한다는 것은 설계자의 모델과 사용자 모델 간의 간격을 좁힌다는 것과 비슷한 의미가 되지 않을까 싶은 생각이 든다. 
	- 객체지향은 도메인의 구조와 최대한 유사하게 코드를 구조화할 수 있게 해준다고 한다. 
		- 그렇게 되는 이유는 객체지향이 사람들이 만지고 느끼고 볼 수 있는 실체를 시스템 안의 객체로 재창조할 수 있게 해주기 때문이다. 
	- 이런 객체지향의 특징은 "연결완전성" 혹은 "표현적 차이" 이라고 한다. 
- 표현적 차이 : 
	- 소프트웨어 객체와 현실 객체 사이의 의미적 거리를 가리켜 표현적 차이 또는 의미적 차이라고 한다. 
		- 소프트웨어 세계에는 현실세계의 은유를 구현해내고 있다. 말 그대로 은유이기 때문에 현실 세계와의 차이점은 발생할 수 밖에 없다. 
	- 우리가 은유를 통해서 투영해야하는 대상은 바로 사용자가 도메인에 대해서 생각하는 개념들이다. 도메인 모델이다. 
- 도메인 모델이 제공하는 구조가 안정적인 이유 : 
	- 도메인 모델의 핵심은 사용자가 도메인을 바라보는 관점을 반영해 소프트웨어를 설계하고 구현하는 것이다. 
	- 도메인에 대한 사용자의 관점을 반영해야하는 이유는 사용자들이 누구보다도 도메인의 '본질적인' 측면을 가장 잘 이해하고 있기 때문이다. 
		- 본질적이라는 말은 그 대상이 변경이 적고, 특성이 오랜 기간 유지된다는 것을 의미한다. 
		- 따라서 사용자의 관점이 반영된 도메인 모델은 그 특성한 본질적이고, 변경의 가능성이 적다. 변경의 가능성이 적다는 말은 곧 안정적이라는 말이된다. 


## 불안정한 재료 : 기능 

- 유스케이스 : 
	- 훌륭한 기능 요구사항을 얻기 위한 조건 : 목표를 가진 사용자와 사용자의 목표를 만족시키기 위해 일련의 절차를 수행하는 시스템 간의 '상호작용'의 관점에서 시스템을 바라봐야 한다.
	- 그리고 사용자는 그들의 목표를 달성하기 위해서 시스템과 상호작용한다. 
	- 이처럼 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것을 유스케이스라고 하낟. 
	- 유스케이스의 가치 : 사용자들의 목표를 중심으로 시스템의 기능적인 요구사항들을 이야기 형식으로 묶을 수 있다는 점이다. 
	- 마틴 파울러의 정의 : "유스케이스는 공통의 사용자 목표를 통해 강하게 연관된 시나리오의 집합이다" 
- 
- 유스케이스의 특성 : 
	- 1) 유스케이스는 사용자와 시스템 간의 상호작용을 보여주는 '텍스트'이다. 유스케이스의 핵심은 사용자와 시스템 간의 상호작용을 일련의 이야기 흐름으로 표현하는 것이다. 
	- 2) 유스케이스는 하나의 시나리오가 아니라 여러 시나리오들의 집합이다. 시나리오는 유스케이스의 인스턴스라고 할 수 있다. 
	- 3) 유스케이스는 단순한 피처 목록과 다르다 . 피처는 시스템이 수행해야하는 기능의 목록을 단순하게 나열한 것이다. 이것은 각각의 기능을 독립적인 기능으로 보이게끔 한다. 하지만 피처들을 유스케이스로 묶으면 사용자와의 상호작용 흐름 속에서 두 피처를 포함하는 이야기를 제공함으로써 시스템의 기능에 대해 의사소통할 수 있는 문맥을 얻을 수 있다. 
	- 4) 유스케이스는 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다. 
	- 5) 유스케이스는 내부 설계와 관련된 정보를 포함하지 않는다. 유스케이스의 목적은 내부 설계를 설명하는 것에 있지 않다. 
- 유스케이스는 단순한 기법이다 : 
	- 유스 케이스는 단지 기능적 요구사항을 사용자의 목표라는 문맥을 중심으로 묶기 위한 정리 기법일 뿐이다. 


## 재료 합치기 : 기능과 구조의 통합 

- 책임-주도 설계 : 
	- 이 방법은 시스템의 기능을 역할과 책임을 수행하는 객체들의 협력 관계로 바라보게 함으로써 두 가지 기존 재료인 유스케이스와 도메인 모델을 통합한다. 
	- 중요한 것은 견고한 객체지향 애플리케이션을 개발하기 위해서는 사용자의 관점에서 시스템의 기능을 명시하고, 사용자와 설계자가 공유하는 안정적인 구조를 기반으로 기능을 책임으로 변환하는 체계적인 절차를 따라야 한다는 것이다. 
- 순서 : 
	- 시스템이 해결하는 문제. 시스템이 제공하는 기능. 시스템이 가지고 있는 거대한 책임이 무엇인지 설정한다. 
	- 그리고 이 거대한 책임이 객체들의 협력으로 구현되어야 한다. 메시지를 받을 객체를 선택하고, 객체가 다른 객체에 전송할 메시지를 식별한 후, 다시 그 메시지를 받을 객체를 선택함으로써 자율적인 객체들의 협력 관계를 창조한다. 
	- 할당받을 객체들은 안정적인 도메인 모델을 기반으로한다. 객체들은 도메인 모델에 기술된 개념 중 적절한 것을 선택해야 한다. 
		- 객체의 이름 : 도메인 모델에 포함된 개념으로부터 차용 
		- 객체의 책임 : 도메인 모델에 정의한 개념의 정의에 부합하도록 할당한다. 


--- 

## 질문 : 

- 객체지향 접근법이 도메인 모델을 구축하는데에 도움이 되는 이유는 무엇인가? 
- 도메인 모델은 무엇인데, 이것 덕분에 안정적인 구조를 얻을 수 있게 되는 것일까? 
	- 구조란 구체적으로 무엇을 의미하는 것인가? 