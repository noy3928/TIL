
- 6장에서는 함수형 프로그래밍이 테스트코드를 작성할 때 얼마나 용이한지에 대해서 알아본다. 

- 단위테스트의 목적 : 
	- 코드가 개발 명세를 충족하는지 확인하고 코드가 실패하는 모든 경계 조건 주변에 담장을 치는 것이다. 
- 명령형 코드가 테스트를 하기 힘든 이유 : 
	- 부수효과를 내기 때문에
	- 호출순서와 무관한, 일관된 결과를 얻기 힘들다 
- 함수형은 그 자체로 테스트하기 좋다. 
	- 일부러 테스트하기 쉽게 코드를 작성하는 것과는 차원이 다른 이야기다. 
	- 함수형의 어떤 특성이 그렇게 만들어주는가? 
		- 순수성 
		- 참조 투명성 

<br>
## 6.1 함수형 프로그래밍과 단위 테스트 

- FP는 특히 단위테스트에 많은 영향을 미친다. 
	- 구성요소의 통합에 집중하는 소프트웨어 개발 패러다임이기 때문에 당연히 그렇다. 
- 함수형의 진정한 관심사 : 
	- 함수 간의 소통(코드를 모듈화하는 단위) 


<br>

## 6.2 명령형 프로그램 테스트의 어려움 

- 전역 상태와 변이에 의존하기 때문에 테스트하기가 어렵다. 

- 단위 테스트 설계의 주요 원칙 중 하나가 격리이다. 
	- 단위 테스트는 진공 상태에 떠 있는 것처럼 다른 데이터나 주변 테스트에 상관없이 실행돼야 하지만, 부수효과를 유발하는 코드는 기능을 테스트할 때 심한 제약을 받게 된다. 

- 명령형 코드의 문제점 : 
	- 간단한 작업으로 분리하기 힘들다. 
	- 공유 자원에 의존하게 만든다. (불변성x)
	- 평가 순서를 미리 정해야한다. (합성x)

<br>

### 6.2.1 작업을 식별하고 분해하기 어려움 

- 함수형 테스트 가능 범위를 넓히기 위해서는 순수한 부분과 불순한 부분이 구분된, 느슨하게 결합된 컴포넌트로 함수를 나눌 방법을 궁리해야 한다. 

<br>

### 6.2.2 공유 자원에 의존하면 들쭉날쭉한 결과가 나온다 

- 안정된 테스트라면 나머지 테스트와는 독립적으로, 그 자체로 돌아가야한다. 
- 이 장에선 외부자원을 사용한 결과 테스트 결과가 들쭉날쭉한 예시를 보여주고 있다. 

<br>

### 6.2.3 평가 순서를 미리 정해야 함 

- 단위 테스트는 일관성 차원에서 결합적이어야 한다. 
	- 즉 실행 순서를 바꿔도 결과가 달라져서는 안된다. 



명령형 코드를 가지고 테스트하기 힘든 3가지 이유를 설명하고 있었다. 

<br>

## 6.3 함수형 코드를 테스트 

- FP의 모든 함수는 입력 매개변수가 명확히 정의되어 있으므로 여러 가지 경계 조건 집합을 제공하여 코드를 구석구석 살피는 일은 어렵지 않다. 
	- 부수효과 측면에서도 모든 함수는 단순 명료하게 정의되며, 불순한 코드는 모나드로 안전하게 감쌀 수 있다. 

3파트에서는 함수형을 사용해 테스트할 때, 어떤 이점이 있는지 소개한다. 
- 함수를 블랙박스처럼 취급 
- 제어 흐름 대신 비즈니스 로직에 집중 
- 모나드 격리를 통해 순수한 부분과 불순한 부분을 분리 
- 외부 디펜던시를 모의 
<br>
### 6.3.1 함수를 블랙박스처럼 취급 

- 

--- 

## 내 생각과 정리 : 

- 이 장에는 특히 테스트 코드와 관련된 이야기가 많이 나온다. 
	- 그 중에서도 단위테스트와 관련된 이야기 
	- 더구나 내가 단위테스트 위주로 테스트코드를 작성하고 있다보니, 더 재미있게 읽혔던 장인 것 같다. 
	- 해당 테스트코드 관련된 내용들은 따로 메모를 모아놓아도 좋을 것 같다는 생각이 든다. 


- 비즈니스 로직에 집중한다는 것은 어떤 의미를 가지고 있을까? 
- 블랙박스로 취급한다는 것은 어떤 의미인가?? 
	- 순수한 함수는 입력과 결과가 항상 동일하다. 그런 이유로 해당함수를 사용하는 사람 입장에서 그 내부 구현을 자세하게 알 필요가 없다. 