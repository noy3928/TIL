
# 02.이상한 나라의 객체 

> 객체지향 패러다임은 지식을 추상화하고 추상화한 지식을 객체 안에 캡슐화함으로써 실세계 문제에 내재된 복잡성을 관리하려고 한다. 객체를 발견하고 창조하는 것은 지식과 행동을 구조화하는 문제다. - 레베카 워프스브록 


## 객체지향과 인지능력 

- 객체지향은 인간의 기본적인 인지능력에 기반을 두고 있다. 
	- 인간은 본능적으로 세상을 독립적이고 식별 가능한 객체의 집합으로 바라본다. 
- 인간은 물리적인 한계를 넘어 개념적으로도 세계를 경계지을 수 있다.
	- 주문과 계좌 이체는 비록 물리적인 실체는 아니더라도 각 계좌 이체는 명확하게 구분이 가능하다. 
- 복잡성을 극복하기 위한 인간의 몸부림 : 
	- 인간은 좀 더 단순한 객체들로 주변을 분해함으로써 자신이 몸담고 있는 세상을 이해하려고 노력한다. 
	- 즉, 객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적인 또는 개념적인 경계를 지닌 어떤 것이다. 


## 객체, 그리고 이상한 나라 


###  엘리스 객체 

- 엘리스의 키 : 
	- 엘리스는 정원으로 통하는 문을 통과하기에 적당한 상태로 자신의 키를 계속해서 변화시켰다. 
	- 엘리스의 키는 시간의 흐름에 따라 계속 변한다. 
	- 엘리스의 키를 변화시키는 것은 엘리스의 행동이다. 
	- 엘리스의 행동의 결과는 엘리스의 키라는 상태이다. 행동의 결과는 상태. 
	- 엘리스의 키가 280일 때 20만큼 줄이기 위해 행동하는 것으로 보아, 행동의 결과는 결국 상태에 의존적이다. 
		- 상태에 따라 행동의 결과가 달라진다. 
- 엘리스, 상태와 행동 : 
	- 엘리스는 상태를 가지며 상태는 변경 가능하다.
	- 엘리스의 상태를 변경시키는 것은 엘리스의 행동이다. 
		- 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다. 
		- 행동의 순사가 결과에 영향을 미친다. 
	- 엘리스는 어떤 상태에 있더라도 유일하게 식별 가능하다. 


## 객체, 그리고 소프트웨어 나라 

- 객체의 다양한 특성을 효과적으로 설명하기 위해 필요한 개념 
	- 객체를 상태, 행동, 식별자를 지닌 실체로 보는 것 

> 객체란 식별 가능한 개체 또는 사물이다. 객체는 자동차처럼 만질 수 있는 구체적인 사물일 수도 있고, 시간처럼 추상적인 개념일 수도 있다. 객체는 구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태를 가진다. 소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드를 통해 구현된다. 


### 상태 

#### 왜 상태가 필요한가 

- 상태라는 개념 : 
	- 일상속에서 볼 수 있는 객체들이 상호작용하는 것의 공통점 : 
		- 어떤 행동의 결과는 과거에 어떤 행동들이 일어났었느냐에 의존한다는 것 
	- 인간의 행동 과정과 결과를 단순하게 기술하기 위해 상태라는 개념이 고안되었다. 
	- 상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측할 수 있다. 

#### 상태와 프로퍼티 

- 객체가 아닌 것들 : 
	- 객체가 아닌것들의 예시 
		- 엘리스의 키와 위치는 객체가 아니다. 
		- 음료와 케이크의 양은 객체가 아니다. 
		- 문이 열려있는지 여부는 객체가 아니다. 
		- 토끼가 달려가는 속도 역시 객체가 아니다. 
	- 단순값들은 그 자체로 독립적인 의미를 가지기보다는 다른 객체의 특성을 표현하는 데 사용된다. 
		- 다시 말해 다른 객체의 상태를 표현하기 위해 사용된다. 

- 프로퍼티 : 
	- 객체의 상태를 구성하는 모든 특징을 통틀어 객체의 프로퍼티라고 한다. 
		- 앨리스의 경우 키, 위치, 음료가 앨리스의 프로퍼티가 된다. 
	- 일반적으로 프로퍼티는 "정적"이다. 
	- 프로퍼티 값은 시간의 흐름에 따라 변경되기 때문에 "동적"이다. 
	- 프로퍼티의 구성요소 :
		- 링크 : 객체와 객체사이의 의미있는 연결 
			- 링크는 객체가 다른 객체를 참조할 수 있다는 것을 의미하며, 이것은 일반적으로 한 객체가 다른 객체의 식별자를 알고 있는 것으로 표현된다. 
		- 속성 : 단순한 값. 
			- 앨리스의 키와 위치는 단순한 값으로 표현되기 때문에 속성이다. 


> 상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현한다. 객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성된다. 객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분할 수 있다. 


- 객체지향의 기본적인 사상 : 
	- 상태와 상태를 조작하기 위한 행동을 하나의 단위로 묶는 것 


### 행동 


#### 상태와 행동 

- 행동 : 
	- 객체가 취하는 행동은 객체 자신의 상태를 변경시킨다. 
	- 부수효과 : 
		- 객체의 행동에 의해 객체의 상태가 변경된다는 것은 행동이 부수효과를 초래한다는 것을 의미한다. 
	- 상태와 행동 사이의 관계 : 
		- 객체의 행동은 상태에 영향을 받는다. 
		- 객체의 행동은 상태를 변경시킨다. 
	- 행동의 정의 : 
		- 상호작용이 현재의 상태에 어떤 방식으로 의존하는가?
		- 상호작용이 어떻게 현재의 상태를 변경시키는가? 


#### 협력과 행동 

- 협력을 위한 방법 : 
	- 다른 객체에게 요청을 보내는 것 
	- 요청을 수신한 객체는 요청을 처리하기 위해 적절한 방법에 따라 행동한다. 
	- 따라서 객체의 행동은 객체가 협력에 참여할 수 있는 유일한 방법이다. 
- 객체의 행동으로 인해 발생하는 결과 : 
	- 객체 자신의 상태 변경 
	- 행동 내에서 협력하는 다른 객체에 대한 메시지 전송 


> 행동이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동이다. 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있다. 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다. 


#### 상태 캡슐화 

- 객체는 자율적인 존재 : 
	- 객체지향의 세계에서 모든 객체는 자신의 상태를 스스로 관리하는 자율적인 존재이다. 
	- 따라서 앨리스 음료의 상태를 직접 변경할 수 없다. 음료에게 메시지를 전달하고, 메시지를 전달받은 음료는 자신의 상태를 스스로 변경시킨다. 
- 캡슐화 : 
	- 객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지 않는다. 객체가 외부에 노출하는 것은 행동뿐이며, 외부에서 객체에 접근할 수 있는 유일한 방법 역시 행동뿐이다. 
	- 송신자는 수신자가 메시지에 대해서 어떻게 반응할 지 간섭할 수 없다. 


### 식별자 

- 식별 가능하다는 것 : 
	- 객체를 서로 구별할 수 있는 특정한 프로퍼티가 객체 안에 존재한다는 것을 의미한다. 
	- 객체가 아닌 단순한 값은 식별자를 가지지 않는다는 것을 의미한다. 
- 값 : 
	- 값의 상태는 변하지 않기 때문에 <u>불변 상태</u>를 가진다고 말한다. 
	- 동등성 : 
		- 값의 상태가 같으면 두 인스턴스는 동일한 것으로 판단하고 상태가 다르면 두 인스턴스는 다른 것으로 판단한다. 
		- 이처럼 상태를 두 값이 같은지 판단할 수 있는 성질을 동등성이라고 한다. 
- 객체 : 
	- 시간에 따라 변경되는 상태를 포함하며, 행동을 통해 상태를 변경하기 때문에 <u>가변 상태</u>를 가진다고 말한다. 
	- 타입이 같은 두 객체의 상태가 완전히 똑같더라도 두 객체는 독립적인 별개의 객체로 다뤄야한다. 
	- 두 객체를 동일하거나 다르다고 판단할 수 있는 프로퍼티를 가진다. 두 객체의 상태가 다르더라도 식별자가 같다면 두 객체를 같은 객체로 판단할 수 있다. 이처럼 식별자를 기반으로 객체가 같은지를 판단할 수 있는 성질을 동일성이라고 한다. 
- 식별자 : 
	- 상태가 가변적인 두 객체의 동일성을 판단하기 위해서는 상태 변경에 독립적인 별도의 식별자를 이용할 수 밖에 없다. 
	- 객체지향 패러다임의 표현력을 높이는 데 중요한 역할을 한다. 

> 식별자란 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티다. 값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교해야 한다. 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교할 수 있다. 

- 값과 구분하기 위해 객체를 가리키는 용어 : 
	- 참조 객체 
	- 엔티티


- 값과 객체의 차이점을 명확하게 구분하고 명시적으로 표현하는 것이 중요한 이유? 


## 기계로서의 객체 

- 쿼리와 명령 : 
	- 쿼리 : 객체의 상태를 조회하는 작업 
	- 명령 : 객체의 상태를 변경하는 작업 
- 기계 : 
	- 기계는 블랙박스다. 내부에서 어떤 일이 일어나는지 알 수 없다. 
	- 사용자가 객체 기계의 버튼을 눌러 상태를 변경하거나 상태 조회를 요청하는 것은 객체의 행동을 유발하기 위해 메시지를 전송하는 것과 유사하다. 
	- 버튼을 누르는 것은 사용자이지만, 어떤 방식으로 동작할지는 기계 스스로 결정한다. 
	- 이것은 객체에 접근할 수 있는 유일한 방법은 객체가 제공하는 행동뿐이라는 점을 강조한다. 
		- 즉, 사용자는 객체가 제공하는 명령 버튼과 쿼리 버튼으로 구성된 인터페이스를 통해서만 객체에 접근할 수 있다. 
	- 객체 캡슐화를 직관적이고 시각적으로 묘사하는 은유 



## 행동이 상태를 결정한다 

- 초보자가 빠지는 실수 : 
	- 상태를 중심으로 객체를 바라보는 것 
