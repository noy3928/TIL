# 01 영화 예매 시스템 이유

## 요구사항 살펴보기

- 미리 요구 사항을 살펴본다.
- 영화, 상영에 대한 개념을 구분하기
- 할인정책과 할인 조건에 대한 개념을 구분하기

<br>

# 02 객체지향 프로그래밍을 향해

## 협력, 객체, 클래스

- 객체지향하면 대부분의 사람들은 클래스를 떠올린다. 과연 이게 맞을까?
- 안타깝게도 틀렸다. 객체지향은 객체를 지향하는 것.
- 객체지향을 위해선 2가지에 집중해야한다.
  1. 어떤 객체들이 필요한지 먼저 고민한다.
     - 객체가 어떤 상태와 행동을 가지는지 생각해야 한다.
  2. 객체를 협력하는 공동체의 일원이라는 사실을 기억한다. 객체는 독립적인 존재가 아니다. 협력하는 존재다.
     - 이렇게 함으로써, 설계를 유연하고 확장 가능하게 만든다.
     - 협력하는 존재로 바라보는 것과 설계를 유연하고 확장가능하게 만드는 것은 어떤 관계가 있는 것일까?

<br>

요약 : 이 파트에서는 객체지향을 바라보기 위해서 주의해야 할 것을 말하고 있었다.

## 도메인 구조를 따르는 프로그램 구조

- 도메인 : 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야를 도메인이라고 부른다.
  - 영화 예매 시스템은 영화를 좀 더 쉽고 빠르게 예매하려는 사용자의 문제를 해결하려는 것. 그러면 영화 예매 시스템은 도메인?
- OOP가 강력한 이유 : 초기 단계부터 마지막 단계까지 객체라는 동일한 추상화 기법을 사용할 수 있다.
- 클래스의 이름은 도메인 개념의 이름과 동일하거나 유사하게 지어야 한다.
- 클래스의 구조는 도메인의 구조와 유사한 형태를 띠어야 한다.

<br>

요약 : 도메인과 클래스의 관계를 설명하는 파트였다.

## 클래스 구현하기

- 클래스를 구현할 때, 주의할 점은 클래스의 경계를 구분 짓는 것이다. 경계를 구분짓는다는 것은 외부에 공개할 것과 내부에 감출 것을 구분한다는 말이다.
- 왜 구분해야하는가? : 경계의 명확성이 객체의 자율성을 보장한다.
  - 경계의 명확성과 객체의 자율성은 어떤 관계가 있는가? : 객체가 스스로 처리할 일은 내부에 감추어야 한다. 그렇게 함으로써 객체의 자율성을 보장할 수 있다.

### 자율적인 객체

1. 객체는 상태와 행동을 함께 가지는 복합적인 존재다.
2. 객체는 스스로 판단하고 행동하는 자율적인 존재다.

- 데이터와 기능을 객체 내부로 함께 묶는 것을 캡슐화라고 한다.
- 접근제어 메커니즘 : 외부에서 접근을 통제하는 메커니즘. private, protected, public 같은 접근 수정자를 제공.
- 접근을 통제하는 이유는 객체를 자율적인 존재로 만들기 위함이다. 객체가 외부의 간섭을 받는다면, 자율적인 존재가 될 수 없다.
- 캡슐화와 접근제어는 객체를 두 부분으로 나눈다.
  - 퍼블릭 인터페이스 : 외부에서 접근 가능한 부분
  - 구현 : 외부에서 접근 불가하고 내부에서만 접근 가능한 부분
  - 인터페이스와 구현의 분리라는 원칙은 훌륭한 객체 지향 프로그램을 만들기 위해 따라야하는 핵심 원칙이다.

### 프로그래머의 자유

- 프로그래머의 역할을 클래스 작성자와 클라이언트 프로그래머로 나누는 것이 유용하다.
- 클라이언트의 목표 : 필요한 클래스들을 엮어서 어플을 빠르고 안정적으로 구축하는 것이다.
- 클래스 작성자의 목표 : 클라이언트에게 필요한 부분만 공개하고 나머지는 숨긴다. 나머지를 숨김으로써 클라이언트에게 영향을 끼칠 것을 고민하기 않고도 내부 구현을 마음껏 바꿀 수 있다. 이것을 **구현 은닉**이라고 부른다.
- 객체를 외부와 내부로 구분하는 것의 효용성 :
  - 클라이언트가 알아야 할 지식의 양이 줄어든다.
  - 클래스 작성자는 자유럽게 구현을 변경할 수 있게 된다.

<br>

요약 : 클래스를 구현할 때 주의해야할 점에 대해서 설명하는 파트였다. 주의해야 할 점이란, 내부와 외부에 대한 경계를 명확히 구분짓는 것이다.

## 협력하는 객체들의 공동체

- 객체지향의 장점은 객체를 이용해 도메인의 의미를 풍부하게 표현하는 것이다.
- 영화 예매를 위해서 각각의 인스턴스들은 서로의 메서드를 호출하며 상호작용한다.

<br>

요약 : 필요한 기능을 구현하며, 각각의 인스턴스가 서로의 메서드를 사용하는 상황을 보여준다. 이를 통해 협력이 중요함을 소개하고 있다.

## 협력에 관한 짧은 이야기

- 요청과 응답
  - 객체는 다른 객체의 인터페이스에 공개된 행동을 수행하도록 요청할 수 있다.
  - 요청을 받은 객체는 자율적인 방법에 따라 요청을 처리한 후 응답한다.
- 객체가 다른 객체와 상호작용을 할 수 있는 유일한 방법은 메시지를 전송하는 것 밖에 없다. (인터페이스)
- 메시지를 수신한 객체는 스스로의 결정에 따라 자율적으로 메시지를 처리한다. (메서드)
- 메시지와 메서드의 구분은 중요하다. 여기서부터 다형성의 개념이 등장한다.
  - 그리고 이런 다형성으로부터, 객체지향프로그래밍이 명성을 얻게되었다.
  - 다형성으로 말미암아, OOP는 유연하고 확장가능하며 재사용 가능한 설계를 할 수 있게 되었다.
- 객체는 메시지를 받고 어떻게 처리할지는 스스로 처리한다. 스스로 처리한다는 이 개념이 상당히 중요하다. 여기서부터 객체의 자율성이 나온다.
  - 아 객체가 자유로운 존재라고 말하는 것은 외부에서 간섭을 받지 않는 것을 넘어서, 메시지에 따라 어떻게 처리할지 스스로 정하는 것에도 있구나.
  - OOP에서 객체는 자유로운 존재다.
    - 외부의 간섭을 받지 않기 때문이다.
    - 메시지에 따라 상태를 어떻게 처리할지 스스로 결정하기 때문이다.

<br>

요약 : 메시지와 메서드의 구분을 이야기하고 있다. 이로부터 다형성의 개념에 대한 서두를 열고 있음을 알 수 있다.

<br>

# 03 할인 요금 구하기

## 할인 요금 계산을 위한 협력 시작하기

- 영화요금을 계산하는 메서드에는 이상한 점이 있다.

  - 어떤 할인 정책을 사용할 것인지 결정하는 코드가 존재하지 않는다.

- 이 코드에는 두 가지 개념이 숨어있다.

  - 상속
  - 다형성

- 그리고 이 두 가지 개념에는 추상화라는 원리가 숨어있다.

<br>

요약 : 상속과 다형성을 설명하기 위한 초석을 마련하고 있다.

## 할인 정책과 할인 조건

- 할인 정책은 금액 할인 정책과 비율 할인 정책으로 구분된다.

  - 두 클래스는 대부분의 코드가 유사하고 할인 요금을 계산하는 방식만 조금 다르다.
  - 때문에 공통된 코드를 보관할 장소가 필요하다.
  - 여기에서 부모 클래스의 개념이 등장한다.
    - 실제 어플에선 부모로부터 바로 인스턴스를 생성하지 않기 때문에 추상 클래스를 사용한다.

- 추상메서드의 등장
  - 부모 클래스에서 기본적인 알고리즘의 흐름을 구현하고 중간에 필요한 처리를 자식 클래스에게 위임하는 디자인 패턴을 TEMPLATE METHOD패턴이라고 부른다.

<br>

요약 : 이 파트에서는 실제로 상속을 구현한 코드들을 설명하고 있다.

<br>

# 04 상속과 다형성

## 컴파일 시간 의존성과 실행 시간 의존성

## 차이에 의한 프로그래밍

## 상속과 인터페이스

## 다형성

## 인터페이스와 다형성

<br>

# 05 추상화와 유연성

## 추상화의 힘

## 유연한 설계

## 추상 클래스와 인터페이스 트레이드오프

## 코드 재사용

## 상속

## 합성
