# [토스ㅣSLASH 21 - 테스트 커버리지 100%](https://www.youtube.com/watch?v=jdlBu2vFv58)


토스에서는 커버리지 100%를 만들어보기로했다. 100%까지 만들기까지 2개월의 시간이 걸렸다. 그리고 이것을 유지하는 것도 가능한 것이었다. 

## 높은 테스트 커버리지의 이점 

- 자신감 : 자신있게 누를 수 있는 배포 버튼 
- 거침없는 리팩토링 
- 프로덕션 코드에 대한 이해도 : 이해하지 못하면 코드를 작성할 수 없음
- 불필요한 프로덕션 코드가 사라짐 : 남아있는 것이 있다면 테스트를 작성해야함 
- 점점 쉬워지는 테스트 작성 



## 커버리지를 높이기 위해 필요한 것들 

이것을 실천하기 위해서는 믿음이 필요하다. 이것이 필요하다는 것을 반드시 믿는 것. 많은 시간이 들어가는 작업이기 때문에 커버리지를 높이는 것이 얼마나 중요한지에 대해서 믿는 것이 선행되어야 한다. 

또 다른 믿음이 필요한데, 그것은 어떤 코드는 테스트할 수 있다는 믿음이 있어야 한다는 것이다. 

- 믿음 
- 시간 
- 의지 : 시스템을 통해서 100%가 아니면, 배포될 수 없도록 만들기 


## 어려움 


### 1.느려지는 테스트 
느려지는 원인을 파악하고 해당 원인을 제거하는 방식으로 수행 

### 2.진짜 어려운 테스트 
대체로 모킹을 하면 어떻게든 테스트할 수 있었다.



## 왜 그렇게까지 100%인가? 

이것은 나름의 가치를 가지고 있다. 


### 100%는 단순하다. 

- 새로 추가한 코드가 조금이라도 커버되지 않으면 언제나 실패 
- 커버리지 리포트를 보고 빠뜨린 곳을 알 수 있다. 


### 100%를 넘어서 

그럼에도 불구하고 버그는 남아있다. 
- 테스트를 잘못 작성하는 경우 : 
	- 테스트 케이스가 부족한 경우. 
- 요구 사항에 오해가 생긴 경우 : 
	- 요구사항을 스택문서로 작성해보기(BDD) 
	- 스펙 문서를 자동으로 만들어주는 기능을 만들었다. 
- 컴포넌트간 협업이 실패할 경우 




--- 

## 내 생각 : 

- 내가 생각하기에 100%가 필요한 이유는 코드를 작성하면서 90% 정도만 머물러도 내가 작성한 코드에 대한 불안감이 생기는 것 같다. 100%가 되어야만 우선 프로덕트 자체를 커버했다는 생각이 든다. 100%가 아닐때는 뭔가 계속 불안감이 유지되는 것 같다. 진정한 자신감을 얻고 싶다면 100%를 만들 필요가 있다는 생각이다. 

