## 스프링 부트 3 구조 살펴보기  

계층 : 각자의 역할과 책임이 있는 어떤 소프트웨어의 구성요소를 말한다.  

### 카페와 빵집으로 이해하는 계층  

각 계층은 서로 소통할 수 있다.  
하지만, 각 계층은 서로에게 영향을 끼치지는 못한다.  

- 프레젠테이션 계층 : 
  - HTTP 요청을 받고 이 요청을 비지니스 계층으로 전송하는 역할을 한다.  
  - 컨트롤러가 바로 프레젠테이션 계층의 역할을 한다.  
- 비지니스 계층 : 
  - 비지니스 로직이란 서비스를 만들기 위한 로직을 말한다. 
  - 서비스가 비지니스 계층의 역할을 한다. 
- 퍼시스턴트 계층 : 
  - 데이터베이스 관련 로직을 처리한다. 
  - 이 과정에서 데이터베이스에 접근하는 DAO 객체를 사용할 수 있다.  
  - 리포지토리가 퍼시스턴스 계층의 역할을 한다

### 코드 구현하기  

HTTP 요청 -> 프리젠테이션 계층(TestController) <-> 비지니스 계층(TestService) 


## 스프링 부트의 요청-응답 과정 한 방에 이해하기 

HTTP 요청이 오면 어떤 과정을 거쳐서 실행되고 응답되는지 알아보자.  

1. 포스트맨에서 톰캣에 /test GET 요청을 한다. 그러면 요청은 스프링 부트 내로 이동한다.   
2. 스프링 부트의 디스패처 서블릿이라는 녀석이 URL을 분석하고, 이 요청을 처리할 수 있는 컨트롤러를 찾는다. TestController 가 /test라는 패스에 대한 GET요청을 처리할 수 있는 getAllMembers 메서드를 가지고 있다. 때문에 디스패처 서블릿은 TestController에게 /test GET 요청을 전달한다.
3. 마침내 /test GET 요청을처리할 수 있는 getAllMembers 메서드와 이 요청이 매치된다. 그리고 getAllMembers 메서드에서는 비지니스 계층과 퍼시스턴스 계층을 통하면서 필요한 데이터를 가져온다.  
4. 그러면 뷰 리졸버는 템플릿 엔진을 사용해 HTML 문서를 만들거나 JSON, XML 등의 데이터를 생성한다.  