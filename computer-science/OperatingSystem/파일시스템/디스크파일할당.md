## 연속 할당과 불연속 할당

- 같은 크기로 나뉜 공간 하나를 블록이라고 한다.
  - 한 블록의 크기는 1-8KB이다.
- 파일 시스템은 파일 이름과 해당 파일이 시작하는 블록 주소를 가진 파일 테이블을 관리한다.
- 파일 테이블은 파티션당 하나씩 존재하며, 각 파티션의 맨 앞부분에 위치한다.

- 연속할당 : 데이터를 디스크상에 연속적으로 배열하는 간단한 방식
  - 파일을 저장하거나 삭제하면, 빈 공간이 생기기 때문에 잘 사용하지 않는다.
- 불연속할당 : 비어있는 블록에 데이터를 분산하여 저장하고 이에 관한 정보를 파일 시스템이 관리한다.

<br>

## 연결할당

- 파일에 속한 데이터를 연결 리스트로 관리하는 방식
- 파일 테이블에는 시작 블록에 대한 정보만 저장한다. 그리고 나머지 데이터는 시작 블록부터 연결하여 저장한다.
  - 맨 끝 블록에는 널을 삽입한다.
  - 체인 할당이라고도 부른다.
- 연결 할당은 테이블 형태로 관리된다.
  - 테이블을 이용한 방식의 단점은 하나의 파티션이 사용할 수 있는 디스크 용량이 테이블 주소의 크기로 제한된다는 것.

<br>

## 인덱스 할당

- 연결할당의 크기 제한에 대한 문제를 해결하기 위한 방식.
- 테이블의 블록 포인터가 데이터 블록을 연결하는 것이 아니라, 데이터의 인덱스를 담고 있는 인덱스 블록을 연결한다.
  - 인덱스 블록은 실제 데이터의 위치에 관한 정보를 순서대로 보관하고 있다.
- 테이블이 꽉차면 인덱스 블록을 연결하는 간접 인덱스 블록을 만들면 된다.

<br>

## 디스크의 빈 공간 관리

- 블록 하나의 크기를 크게 잡으면 적은 주소로 많은 양의 데이터를 관리할 수 있지만 낭비되는 공간이 생기고, 반대로 블록 하나의 크기를 작게 잡으면 많은 양의 블록 포인터가 필요해진다.
- 디스크에 파일을 저장할 때마다 모든 테이블을 뒤져서 빈 공간을 찾는 것은 비효율적이다. 디스크의 내부 단편화를 줄이고 빈 공간을 효율적으로 관리하기 위해 파일 시스템은 빈 블록의 정보만 모아놓은 빈 공간 리스트를 유지한다.
- 파일이 삭제되면 해당 공간을 빈 공간 리스트에 넣는다. 그렇게 함으로써 빈 공간으로 간주하는 것이다. 이런 특성 때문에 해당 공간을 복구할 여지가 남아있다.
