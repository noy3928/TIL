# 10.일급함수(1)

- 이 장의 결론 : 일급 값과 일급 함수, 고차 함수에 대해 배울 수 있었다. 다음 장에서는 이 개념의 숨은 힘에 대해서 알아볼 것이다. 액션과 계산, 데이터를 구분하고 나서 고차 함수에 관한 개념은 함수형 프로그래밍이 가진 힘에 대한 새로운 세계를 열어주었다. 이 책의 파트 2는 함수형 프로그래밍의 새로운 힘에 대한 내용을 다루고 있다. 
- 요점정리 : 
	- 일급값은 변수에 저장할 수 있고 인자로 전달하거나 함수의 리턴 값으로 사용할 수 있다. 일급 값은 코드로 다룰 수 있는 값이다. 
	- 언어에는 일급이 아닌 기능이 많다. 일급이 아닌 기능은 함수로 감싸서 일급으로 만들 수 있다. 
	- 어떤 언어는 함수를 일급 값처럼 쓸 수 있는 일급 함수가 있다. 일급 함수는 어떤 단계 이상의 함수형 프로그래밍을 하는 데 필요하다. 
	- 고차 함수는 다른 함수에 인자로 넘기거나 리턴 값을 받을 수 있는 함수다. 고차 함수를 통해 다양한 동작을 추상화할 수 있다. 
	- 함수 이름에 있는 암묵적 인자는 함수의 이름으로 구분하는 코드의 냄새이다. 이 냄새는 코드로 다룰 수 없는 함수 이름 대신 일급 값인 인자로 바꾸는 암묵적 인자를 드러내기 리팩터링을 적용해서 없앨 수 있다. 
	- 동작을 추상화하기 위해 본문을 콜백으로 바꾸기 리팩터링을 사용할 수 있다. 서로 다른 함수의 동작 차이를 일급 함수 인자로 만든다. 




## 앞으로 배우게 될 3가지 기법 

- 코드의 냄새 : 함수 이름에 있는 암묵적 인자. 함수 본문에서 사용하는 어떤 값이 함수 이름에 나타난다면 함수 이름에 있는 암묵적 인자는 코드의 냄새가 된다.  
- 암묵적 인자를 드러내기 : 암묵적 인자가 일급 값이 될 수 있도록 함수에 인자를 추가한다. 이렇게 하면 잠재적 중복을 없애고 코드의 목적을 더 잘 표현할 수 있다. 
- 함수 본문을 콜백으로 바꾸기 : 함수 본문의 어떤 부분을 콜백으로 바꾼다. 이렇게 하면 일급 함수로 어떤 함수에 동작을 전달할 수 있다. 
	1. 함수 본문에서 바꿀 부분의 앞부분과 뒷부분을 확인한다. 
	2. 리팩터링 할 코드를 함수로 빼낸다. 
	3. 빼낸 함수의 인자로 넘길 부분을 또 다른 함수로 빼낸다. 

이 3가지에 대해서 이번 장에서 간략하게 배워보고, 앞으로 파트2장에서 이 3가지 기법에 대해서 더욱 깊이 있게 배워나가게 될 것이다. 



## 1. 코드의 냄새 : 함수 이름에 있는 암묵적 인자 


함수 이름에 있는 일부가 인자처럼 동작하는 것 같은 함수. 이런 경우에 코드의 냄새가 난다고 하는데, 이를 함수 이름에 있는 암묵적 인자라고 부른다. 코드의 예시를 살펴보면, 

```js
function setPriceByName (cart, name, price){
	var item = cart[name];
	var newItem = objectSet(item, "price", price);
	var newCart = objectSet(cart, name, newItem);
	return newCart;
}
```

```js
function setTexByName(cart, name, tax){
	var item = cart[name];
	var newItem = objectSet(item, "tax", price);
	var newCart = objectSet(cart, name, newItem);
	return newCart;
}
```

이렇게 비슷하게 생긴 함수들이 만들어져있다. 이 함수들의 특징이라면, 필드를 결정하는 문자열이 함수 이름에 있다는 것이다. 함수 이름에 있는 일부가 인자처럼 동작하는 것 같다. 


