
> 의도는 "메시징"이다. 훌륭하고 성장 가능한 시스템을 만들기 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는 모듈이 어떻게 커뮤니케이션하는가에 달려있다. - 앨런 케이 


책임이 명확하지 않은 상태에서는 누구도 나서서 일을 하려하지 않으며, 이런 상황으로 인해 결국 파국을 맞이할 수도 있다.  


## 자율적인 책임  

- 객체의 자율성과 객체지향 설계의 품질 : 객체지향 설계의 품질을 결정하는 것은 결국 객체가 얼마나 '자율적'이냐 하는 것이다. 왜 이것이 객체지향 설계의 품질을 결정지을까? 에 대해서는 이번 챕터를 읽어나가면서 이해하게 될 것이다. 
- 적절한 책임을 가진 객체 : 우선 객체가 '자율적'이라는 말은 어떤 책임에 대해서 자신이 어떻게 처리할 지는 자유롭다는 것이다. 이 말인즉, 자신에게 부여된 책임이 적절하게 추상적이라는 말이된다. '증언하라'라는 책임은 적절히 추상적이다. 하지만, '메모지를 통해서 증언하라'라는 책임은 너무 구체적이다. 때문에 이런 방식으로 책임이 부과되는 것은 객체의 자율성을 해칠 수 있다. 
- 너무 추상적일 때 문제가 되는 책임 : 하지만, 책임이 너무 너무 추상적인 것도 문제가 된다. 만약 '증언하라'라는 수준을 넘어, '설명하라'라는 책임이 부과되었다면, 해당 책임을 이해하는 것이 어려울 것이다. 협력의 맥락 속에서 부여된 책임이 무엇을 의미하는지 정도는 이해할 수 있어야 한다. 
- 선언적인 책임 : 책임의 중요한 특징은 '무엇을' 을 강조한다는 것이다. '어떻게'는 신경쓰지 않는 것이 객체지향에서 말하는 책임의 중요한 특징이다. 
	- 나의 생각 : 이런 부분은 객체지향도 선언적인 특징을 가지고 있는 것 같다. 


## 메시지와 메서드 

- 메시지 : 객체지향은 본질적으로 객체들이 서로 협력함으로써 궁극적인 기능을 달성하게 만드는 과정이라고 할 수 있다. 이때, 객체들끼리 의사소통을 가능하게 만들어주는 유일한 수단이 바로 '메시지'이다. 특정 객체가 다른 객체에게 메시지를 전송할 수 있다는 것은, 메시지를 전달받은 객체가 그 메시지에 대한 책임을 수행할 수 있다는 의미가 된다. 
- 메서드 : 메서드는 메시지를 수신받은 객체가 해당 메시지를 처리하는 방법을 말한다. 메서드의 중요한 특징이 있다면, 메시지를 올바로 처리하기만 한다면, '어떻게' 처리하는지는 외부에서는 아무도 신경쓰지 않는다는 것이다. 
- 다형성 : 다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대해서 서로 다르게 반응하는 것을 의미한다. 이것이 의미하는 것은 객체들이 동일한 메시지를 이해할 수 있다는 것이며, 동일한 메시지를 이해할 수 있는 객체들끼리는 대체될 수 있다는 것이다. 이렇게 대체 가능성의 특징 덕분에 다형성이 이루어지면, 설계가 유연해진다고할 수 있다. 
- 메시지의 중요성 : 유연하고 확장 가능한 설계가 다형성의 축복인 것처럼 느껴질 수 있겠지만, 이는 사실 다형성을 지탱하는 메시지의 역할 때문이다. 메시지는 송신자와 수신자 사이의 결합도를 낮춤으로써 설계를 유연하고, 확장 가능하고, 재사용 가능하게 만든다. 


## 메시지를 따라라 

- 객체지향의 핵심은 메시지 : 객체지향의 핵심이 메시지가 되는 이유는, 본질적으로 객체지향이 객체들의 협력을 통해서 기술적 목적을 달성하기 때문이다. 때문에 시스템을 바라볼 때, 정적인 클래스들의 집합이 아니라 메시지를 주고받는 동적인 객체들의 집합으로 바라보는 것에서 시작한다. 이런 협력의 맥락 속에서 바라보고 설계 해야만, 적절한 모양을 갖춘 객체가 탄생할 수 있다. 
- 책임-주도설계 : 책임을 생각한다는 것은 객체를 협력의 맥락에서 바라본다는 것이다. 이렇게 책임이 설정될 때 우리는 어떤 메시지가 필요한 지 알 수 있다. 
- What/Who 사이클 : 어떤 행위를 수행할 것인지를 결정한 후에, 누가 그 행위를 수행할 것인지를 결정해야한다. 그러니까 협력이라는 문맥 안에서 필요한 메시지를 먼저 결정한 후에 메시지를 수신하기에 적합한 객체를 선택한다. 
- 묻지말고 시켜라 (디미터의 법칙) : 메시지의 송신자는 수신자가 어떻게 행할지에 대해서는 간섭하지 말아야한다. 수신자가 어떤 상태에 존재하는지를 알 수 없다. 때문에 송신자는 언제나 수신자에게 묻지 말고 시키기만 해야한다. 이렇게 한다는 것은 적절한 캡슐화가 이루어져있다는 것이며, 객체들의 자율성이 보장되어있다는 의미가 된다. 


## 객체 인터페이스 

- 일반적인 의미에서의 인터페이스 : 인터페이스란 어떤 두 사물이 마주치는 경계지점에서 서로 상호작용할 수 있게 이어주는 방법이나 장치를 의미한다. 이런 인터페이스는 내부 구조나 동작을 몰라도 사용할 수 있게 도와주며, 내부 동작이 바뀌는 것이 아무런 영향을 미치지 않게 해주며, 대상이 변경되어도 인터페이스만 동일하면 언제나 상호작용가능하다는 특징이 있다. 
- 메시지와 인터페이스 : 객체의 인터페이스는 객체가 수신할 수 있는 메시지의 목록으로 구성되어 있다. 또한 객체가 어떤 메시지를 수신할 수 있는지가 객체가 제공하는 인터페이스의 모양을 빚는다. 
- 공용 인터페이스 : 인터페이스에도 종류가 있다. 하나는 내부에서 사용하는 인터페이스와, 다른 하나는 외부에 공유된 공용 인터페이스이다. 


## 인터페이스와 구현의 분리 

- 객체지향에서 중요한 3가지 원칙 : 1)좀 더 추상적인 인터페이스, 2) 최소 인터페이스, 3)인터페이스와 구현 간에 차이가 있다는 점을 인식. 
	- 1) 좀더 추상적인 인터페이스 : 너무 구체적이게 책임을 부여하면 객체의 자율성이 저해된다. 때문에 적절히 추상적인 인터페이스를 설계해야한다. 
	- 2) 최소 인터페이스 : 외부에서 사용할 필요가 없는 인터페이스는 공개하지 말라. 이것은 책임-주도 설계를 할 때 달성할 수 있다. 
- 인터페이스와 구현의 분리 : 이는 객체를 설계할 때 객체 외부에 노출되는 인터페이스와 객체의 내부에 숨겨지는 구현을 명확하게 분리해서 고려해야 한다는 것을 의미한다. 이것을 인터페이스와 구현의 분리 원칙이라고 한다. 이것이 중요한 이유는 구현에 대한 사항을 캡슐화하기 때문이다. 캡슐화가 중요한 이유는 변경사항을 객체 내부로 차단하기 위함이다. 그래서 잘 변경되지 않는 사항들을 인터페이스로 드러내야한다. 
- 캡슐화 : 이것은 구현을 외부로부터 감추는 것을 의미한다. 이것을 통해서 객체는 자율성을 달성할 수 있다. 캡슐화가 이루어지면 객체가 자율성을 얻게 되는 이유는 외부에서 객체 내부에서 어떻게 행동할 지에 대해서 간섭할 수도 없고, 알 수도 없게되기 때문이다. 내부의 일은 자신이 스스로 처리하도록 감추어져있기 때문에, 캡슐화가 이루어지면 자율성을 얻게된다고 이야기하는 것이다. 


## 책임의 자율성이 협력의 품질을 결정한다 

- 더 좋은 설계의 기준 : 어떤 설계를 더 좋은 설계라고 말할 수 있는 기준은 그것이 얼마나 유연한가에 달려있다. 만약 객체가 가지고 있는 책임이 자율적이라면, 그 만큼 협력을 이해하기 쉬워지고 유연하게 변경하는 것이 가능해진다. 
	- 1)자율적인 책임은 협력을 단순하게 만든다 : 자율적인 책임이라는 것은 너무 구체적인 책임을 부과하지 않는다는 것이다. 따라서 적절히 추상화된 책임이 부과됨으로써 협력이 단순화될 수 있다. 
	- 2)자율적인 책임은 모자 장수의 외부와 내부를 명확하게 분리한다 : 모자 어떤 방법을 선택할지에 대해서 자율성을 부과한다. 그리고 이것을 통해서 외부와 내부가 분리되면 설계의 품질이 올라간다. 
	- 3)내부의 방법을 변경해도 외부에 영향을 미치지 않는다 : 변경의 차단이 이루어지는 것은 명확히 설계의 품질을 높이는 행위다. 
	- 4)자율적인 책임은 협력의 대상을 다양하게 선택할 수 있는 유연성을 제공한다 : 만약 증언이라는 추상적이고 자율적인 책임을 수행할 수 있는 다양한 객체가 존재한다면, 어떤 객체가 오더라도 그것을 대체할 수 있다. 따라서, 유연한 설계가 마련된다. 


